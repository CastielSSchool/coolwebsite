<!DOCTYPE html>
<html>
<style>
div {
    height: 200px;
    width: 400px;

    position: fixed;
    top: 50%;
    left: 50%;
    margin-top: -100px;
    margin-left: -200px;
}
</style>
<div>
<body bgcolor="#888888">
<center><h1 id="title">The button game</h1>
<p id="intro">Press button to begin!</p>
<input onclick="button(this.value)" type="button" id="button" value="The Button"></input></center>

<script>
var state = 0;
var timer;
let seconds = 0.00;
var title = document.getElementById("title");

function button(val) {
	console.log(state);
	if (state != 1 && state != 2) {
		document.getElementById("intro").style.visibility="hidden";
		title.innerHTML = "Ready...";
		timer = setTimeout(pressNow,3000);
		seconds = 0.00;
		setState(1);
	} else if (state == 2 && state != 1) {
		title.innerHTML = seconds+"s";
		setState(0);
		toggleTimer(false);
	} else {
		title.innerHTML = "False Start >:(";
		clearTimeout(timer);
		setState(0);
	}
	console.log(state);
}

function setState(s) {
	state = s;
}

function pressNow() {
	title.innerHTML = "PRESS NOW!";
	setState(2);
	toggleTimer(true);
}

function toggleTimer(on) {
	if (on == true && state > 1) {
		seconds = setInterval(seconds+0.01,1000);
		console.log(seconds);
	} else if (on == false && state == 0) {
		clearInterval(seconds);
		seconds = 0;
	}
}
</script>
</div>
</html>

